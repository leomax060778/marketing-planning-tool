CREATE COLUMN TABLE "PLANNING_TOOL"."EXPECTED_OUTCOME" (
        EXPECTED_OUTCOME_ID BIGINT NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
        NAME NVARCHAR(255),
        CREATED_DATE_TZ TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        MODIFIED_DATE_TZ TIMESTAMP,
        CREATED_USER_ID BIGINT NOT NULL,
        MODIFIED_USER_ID BIGINT,
        ENABLED TINYINT DEFAULT 1,
        DELETED TINYINT DEFAULT 0,
        FOREIGN KEY ("CREATED_USER_ID") REFERENCES "PLANNING_TOOL"."USER"("USER_ID")
);


CREATE COLUMN TABLE "PLANNING_TOOL"."EXPECTED_OUTCOME_OPTION" (
        EXPECTED_OUTCOME_OPTION_ID BIGINT NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
        NAME NVARCHAR(255),
        CREATED_DATE_TZ TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        MODIFIED_DATE_TZ TIMESTAMP,
        CREATED_USER_ID BIGINT NOT NULL,
        MODIFIED_USER_ID BIGINT,
        ENABLED TINYINT DEFAULT 1,
        DELETED TINYINT DEFAULT 0,
        FOREIGN KEY ("CREATED_USER_ID") REFERENCES "PLANNING_TOOL"."USER"("USER_ID")
);

CREATE COLUMN TABLE "PLANNING_TOOL"."EXPECTED_OUTCOME_LEVEL" (
        EXPECTED_OUTCOME_LEVEL_ID BIGINT NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
        EXPECTED_OUTCOME_ID BIGINT NOT NULL,
        EXPECTED_OUTCOME_OPTION_ID BIGINT NOT NULL,
        HIERARCHY_LEVEL_ID BIGINT NOT NULL,
        CREATED_DATE_TZ TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        MODIFIED_DATE_TZ TIMESTAMP,
        CREATED_USER_ID BIGINT NOT NULL,
        MODIFIED_USER_ID BIGINT,
        ENABLED TINYINT DEFAULT 1,
        DELETED TINYINT DEFAULT 0,
        FOREIGN KEY ("CREATED_USER_ID") REFERENCES "PLANNING_TOOL"."USER"("USER_ID"),
        FOREIGN KEY ("HIERARCHY_LEVEL_ID") REFERENCES "PLANNING_TOOL"."HIERARCHY_LEVEL"("HIERARCHY_LEVEL_ID"),
        FOREIGN KEY ("EXPECTED_OUTCOME_ID") REFERENCES "PLANNING_TOOL"."EXPECTED_OUTCOME"("EXPECTED_OUTCOME_ID"),
        FOREIGN KEY ("EXPECTED_OUTCOME_OPTION_ID") REFERENCES "PLANNING_TOOL"."EXPECTED_OUTCOME_OPTION"("EXPECTED_OUTCOME_OPTION_ID")
);

-- *************************************************************************************
-- Update schema version
INSERT INTO SCHEMA_VERSION(VERSION, DESCRIPTION, SCRIPT)
VALUES('V5.0.0-17', 'Improvement - Refactor for Program Expected Outcomes', 'V201702021636_Refactor_Program_Expected_Outcomes.sql');

COMMIT;
