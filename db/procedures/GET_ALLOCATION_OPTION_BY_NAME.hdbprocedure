PROCEDURE "PLANNING_TOOL"."xsplanningtool.db.procedures::GET_ALLOCATION_OPTION_BY_NAME" (
    IN in_name NVARCHAR(255),
	OUT out_result TABLE (
	allocation_option_id BIGINT
	, name NVARCHAR(60)
 	)
 	)
	LANGUAGE SQLSCRIPT
	SQL SECURITY INVOKER 
	DEFAULT SCHEMA "PLANNING_TOOL"
	READS SQL DATA AS
BEGIN

		out_result = SELECT allocation_option_id, name FROM ALLOCATION_OPTION
		WHERE upper(NAME) = upper(in_name) AND enabled = 1 AND deleted = 0
		ORDER BY name;

END;
